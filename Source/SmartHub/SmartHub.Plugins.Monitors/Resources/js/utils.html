
<div class="monitor-view k-block">
    <table style="width:100%" cellpadding="0" cellspacing="0">
        <tr>
            <td>
                <div class="monitor-chart" style="height:120px;" data-bind="source: SensorValues"></div>
            </td>
            <td style="width:33%; min-width:33%;">
                <div class="text-center text-nowrap"><h6 data-bind="html: Name"></h6></div>
                <div class="text-center lead" data-bind="source: this" data-template="tmplLastSensorValue"></div>
            </td>
        </tr>
    </table>
</div>

<script id="tmplLastSensorValue" type="text/x-kendo-template">
    #
    var val = data.Sensor.SensorValueValue;
    if (val == null) { #
        <h5>-</h5>
    # } else {
        var config = JSON.parse(data.Configuration);
        var templ = config.valueAxes[0].labels.template;
        if (templ) {
            var result = kendo.template(templ)({ value: val });
        #
            <h5>#= result #</h5>
        # } else { #
            <h5>#= val #</h5>
        # }
    } #
</script>

<!--var val = data.SensorValues[data.SensorValues.length - 1].Value;-->



    <!--
    var val = data.Sensor.SensorValueValue;
    switch (data.Type) {
        case "T": # <span>#= val == null ? "-" : kendo.toString(val, "n1") #&nbsp;&deg;C</span> #; break;
        case "H": # <span>#= val == null ? "-" : kendo.toString(val, "n1") #&nbsp;%</span> #; break;
        case "P": # <span>#= val == null ? "-" : kendo.toString(val / 133.3, "n0") #&nbsp;mmHg</span> #; break;
        case "F":
            var icon = "wi-cloud-refresh";
            switch (data) {
                case 0: icon = "wi-day-cloudy"; break;
                case 1: icon = "wi-day-sunny"; break;
                case 2: icon = "wi-cloudy"; break;
                case 3: icon = "wi-day-rain-mix"; break;
                case 4: icon = "wi-storm-showers"; break;
                case 5: icon = ""; break;
            } #
            <span class="${icon}" style="font-size:52px;"></span> #; break;
        default: # <span>#= val == null ? "-" : val #</span> #; break;
    }
    #-->
